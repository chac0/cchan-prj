<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<h2>ログイン</h2>

<div *ngIf="!(authService.userData | async)">
  <form [formGroup]="form" (submit)="submit(form)">

  <p *ngIf="authService.error">
  <app-notify-error-box [errorMsg]="loginErrorMsg"></app-notify-error-box>
  </p>

  <div>
    <mat-icon>email</mat-icon>
    <mat-form-field>
      <input matInput placeholder="Emailアドレス" type="text" [(ngModel)]="email" formControlName="fbemail">
      <mat-error *ngIf="fbemail.errors && fbemail.errors.required">Emailアドレスは必須項目です</mat-error>
    </mat-form-field>
    <br />
  </div>

  <br />
  <div>
    <mat-icon>vpn_key</mat-icon>
    <mat-form-field>
      <input matInput placeholder="パスワード" type="password" [(ngModel)]="password" id="pwd" formControlName="fbpwd">
      <mat-error *ngIf="fbpwd.errors && fbpwd.errors.required">パスワードは必須項目です</mat-error>
      <mat-error *ngIf="fbpwd.errors && fbpwd.errors.maxlength">パスワードは128文字以内で入力して下さい</mat-error>
    </mat-form-field>
    <br />
  </div>
  <br />

  <button mat-raised-button color="primary" (click)="signIn()">ログイン</button>
  <br />
  <br />
  <button mat-raised-button color="primary" (click)="signUp()">登録</button>

  </form>
</div>
<br />
<br />
<button (click)="signOut()" *ngIf="authService.userData | async">Logout</button>
